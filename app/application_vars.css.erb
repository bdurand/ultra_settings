<% unless color_scheme == :dark %>
  .ultra-settings, .ultra-settings-block {
    --font-ui: system-ui, -apple-system, sans-serif;
    --font-mono: "SF Mono", Menlo, Consolas, monospace;

    /* Canvas */
    --bg-page: #f4f5f7;
    --bg-sidebar: #1e2530;
    --bg-sidebar-hover: rgba(255,255,255,0.04);
    --bg-sidebar-active: rgba(255,255,255,0.08);
    --bg-card: #ffffff;
    --bg-card-hover: #fafbfc;
    --bg-code: #f0f2f5;
    --bg-sticky: #f4f5f7;
    --bg-overlay: rgba(30, 37, 48, 0.85);
    --bg-search: rgba(255,255,255,0.07);

    /* Borders */
    --border-light: #e2e5ea;
    --border-card: #dfe2e8;
    --border-sidebar: rgba(255,255,255,0.06);
    --border-accent: #0d9488;

    /* Text */
    --text-primary: #111827;
    --text-secondary: #4b5563;
    --text-tertiary: #9ca3af;
    --text-sidebar: rgba(255,255,255,0.88);
    --text-sidebar-dim: rgba(255,255,255,0.32);
    --text-sidebar-active: #ffffff;

    /* Accent — teal */
    --accent: #0d9488;
    --accent-dim: #0f766e;
    --accent-light: rgba(13, 148, 136, 0.06);
    --accent-lighter: rgba(13, 148, 136, 0.03);
    --accent-glow: rgba(13, 148, 136, 0.12);

    /* Source palette */
    --src-env: #2563eb;
    --src-env-bg: #eff6ff;
    --src-env-border: #bfdbfe;
    --src-setting: #0d9488;
    --src-setting-bg: #f0fdfa;
    --src-setting-border: #99f6e4;
    --src-yaml: #7c3aed;
    --src-yaml-bg: #f5f3ff;
    --src-yaml-border: #ddd6fe;
    --src-default: #6b7280;
    --src-default-bg: #f3f4f6;
    --src-default-border: #d1d5db;

    /* Status */
    --active-color: #059669;
    --active-bg: rgba(5, 150, 105, 0.05);
    --overridden-color: #6b7280;
    --overridden-bg: transparent;

    /* Badges */
    --badge-secret-bg: #fef2f2;
    --badge-secret-text: #dc2626;
    --badge-secret-border: #fecaca;
    --badge-static-bg: #f0f2f5;
    --badge-static-text: #4b5563;
    --badge-static-border: #d1d5db;

    /* Type indicators */
    --type-string: #7c3aed;
    --type-integer: #2563eb;
    --type-float: #0891b2;
    --type-boolean: #059669;
    --type-datetime: #6366f1;
    --type-array: #8b5cf6;
    --type-symbol: #a855f7;

    /* Shadows */
    --shadow-xs: 0 1px 2px rgba(0,0,0,0.04);
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
    --shadow-md: 0 4px 16px rgba(0,0,0,0.08);
    --shadow-lg: 0 20px 48px rgba(0,0,0,0.12);
    --shadow-card: 0 1px 3px rgba(0,0,0,0.04), 0 0 0 1px rgba(0,0,0,0.03);

    /* Source row divider */
    --border-source-row: rgba(0,0,0,0.025);
  }
<% end %>

<% if color_scheme == :system %>
  @media (prefers-color-scheme: dark) {
<% end %>
<% if color_scheme == :system || color_scheme == :dark %>
  .ultra-settings, .ultra-settings-block {
    --font-ui: system-ui, -apple-system, sans-serif;
    --font-mono: "SF Mono", Menlo, Consolas, monospace;

    /* Canvas */
    --bg-page: #0f1117;
    --bg-sidebar: #161820;
    --bg-sidebar-hover: rgba(255,255,255,0.06);
    --bg-sidebar-active: rgba(255,255,255,0.10);
    --bg-card: #1a1c26;
    --bg-card-hover: #1e2030;
    --bg-code: #14161e;
    --bg-sticky: #0f1117;
    --bg-overlay: rgba(0, 0, 0, 0.80);
    --bg-search: rgba(255,255,255,0.06);

    /* Borders */
    --border-light: #2a2d3a;
    --border-card: #252836;
    --border-sidebar: rgba(255,255,255,0.08);
    --border-accent: #0d9488;

    /* Text */
    --text-primary: #e4e6f0;
    --text-secondary: #9ba1b5;
    --text-tertiary: #5c6178;
    --text-sidebar: rgba(255,255,255,0.88);
    --text-sidebar-dim: rgba(255,255,255,0.32);
    --text-sidebar-active: #ffffff;

    /* Accent — teal */
    --accent: #14b8a6;
    --accent-dim: #0d9488;
    --accent-light: rgba(20, 184, 166, 0.10);
    --accent-lighter: rgba(20, 184, 166, 0.05);
    --accent-glow: rgba(20, 184, 166, 0.15);

    /* Source palette */
    --src-env: #60a5fa;
    --src-env-bg: rgba(37, 99, 235, 0.12);
    --src-env-border: rgba(37, 99, 235, 0.25);
    --src-setting: #2dd4bf;
    --src-setting-bg: rgba(13, 148, 136, 0.12);
    --src-setting-border: rgba(13, 148, 136, 0.25);
    --src-yaml: #a78bfa;
    --src-yaml-bg: rgba(124, 58, 237, 0.12);
    --src-yaml-border: rgba(124, 58, 237, 0.25);
    --src-default: #9ca3af;
    --src-default-bg: rgba(107, 114, 128, 0.12);
    --src-default-border: rgba(107, 114, 128, 0.25);

    /* Status */
    --active-color: #34d399;
    --active-bg: rgba(52, 211, 153, 0.08);
    --overridden-color: #6b7280;
    --overridden-bg: transparent;

    /* Badges */
    --badge-secret-bg: rgba(220, 38, 38, 0.12);
    --badge-secret-text: #f87171;
    --badge-secret-border: rgba(220, 38, 38, 0.25);
    --badge-static-bg: rgba(107, 114, 128, 0.15);
    --badge-static-text: #9ca3af;
    --badge-static-border: rgba(107, 114, 128, 0.25);

    /* Type indicators */
    --type-string: #a78bfa;
    --type-integer: #60a5fa;
    --type-float: #22d3ee;
    --type-boolean: #34d399;
    --type-datetime: #818cf8;
    --type-array: #a78bfa;
    --type-symbol: #c084fc;

    /* Shadows */
    --shadow-xs: 0 1px 2px rgba(0,0,0,0.3);
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.4), 0 1px 2px rgba(0,0,0,0.3);
    --shadow-md: 0 4px 16px rgba(0,0,0,0.5);
    --shadow-lg: 0 20px 48px rgba(0,0,0,0.6);
    --shadow-card: 0 1px 3px rgba(0,0,0,0.2), 0 0 0 1px rgba(255,255,255,0.04);

    /* Source row divider */
    --border-source-row: rgba(255,255,255,0.04);
  }
<% end %>
<% if color_scheme == :system %>
  }
<% end %>
