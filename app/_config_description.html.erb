<% config_class = configuration.class
  has_config_file = config_class.configuration_file.is_a?(Pathname) && config_class.fields.any?(&:yaml_key) %>

<div class="ultra-settings-config-header">
  <div class="ultra-settings-config-title"><%= html_escape(config_class.name) %></div>

  <% if config_class.description %>
    <div class="ultra-settings-config-desc">
      <%= html_escape(config_class.description).gsub("\n", "<br>") %>
    </div>
  <% end %>

  <% if has_config_file %>
    <div class="ultra-settings-config-file">
      <% if configuration.class.configuration_file&.exist? %>
        <%= file_icon %>
        <code><%= html_escape(relative_path(configuration.class.configuration_file)) %></code>
      <% else %>
        <span class="ultra-settings-warn">
          <%= warning_icon(13) %>
          <code><%= html_escape(relative_path(configuration.class.configuration_file)) %></code>
          (not found)
        </span>
      <% end %>
    </div>
  <% end %>
</div>
